"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[1561],{6262:(i,s)=>{s.A=(i,s)=>{const e=i.__vccOpts||i;for(const[i,a]of s)e[i]=a;return e}},2512:(i,s,e)=>{e.r(s),e.d(s,{comp:()=>t,data:()=>n});var a=e(641);const l={},t=(0,e(6262).A)(l,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,s[0]||(s[0]=[(0,a.Fv)('<h1 id="centos7升级gcc示例" tabindex="-1"><a class="header-anchor" href="#centos7升级gcc示例"><span>centos7升级gcc示例</span></a></h1><p>由于 Linux 操作系统的自由、开源，在其基础上衍生出了很多不同的 Linux 操作系统，如 CentOS、Ubuntu、Debian 等。这些 Linux 发行版中，大多数都默认装有 GCC 编译器（版本通常都较低）</p><h2 id="安装gcc" tabindex="-1"><a class="header-anchor" href="#安装gcc"><span>安装gcc</span></a></h2><ul><li>查看是否含有gcc及gcc版本</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gcc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果没有gcc，可以通过下面命令来进行安装</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc-c++</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>升级gcc需要在系统中包含一个低版本的gcc</p><h2 id="升级gcc" tabindex="-1"><a class="header-anchor" href="#升级gcc"><span>升级gcc</span></a></h2><h3 id="下载gcc源码包" tabindex="-1"><a class="header-anchor" href="#下载gcc源码包"><span>下载gcc源码包</span></a></h3><p><a href="https://mirrors.aliyun.com/gnu/gcc/" target="_blank" rel="noopener noreferrer">阿里云镜像</a></p><p><a href="https://mirrors.cloud.tencent.com/gnu/gcc" target="_blank" rel="noopener noreferrer">腾讯云镜像</a></p><p>下载好以后上传到服务器 或者使用 curl | wget 命令下载</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -O</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.aliyun.com/gnu/gcc/gcc-10.2.0/gcc-10.2.0.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.aliyun.com/gnu/gcc/gcc-10.2.0/gcc-10.2.0.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="解压安装" tabindex="-1"><a class="header-anchor" href="#解压安装"><span>解压安装</span></a></h3><ul><li>解压</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc-10.2.0.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc-10.2.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/gcc-10.2.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/gcc-10.2.0/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>了解即可</p></div><blockquote><p>下载依赖及配置文件<br> 已安装可以跳过这一步<br> yum -y install bzip2</p><p>中标麒麟系统需要以下依赖<br> yum -y install gmp mpfr mpc isl bzip2</p></blockquote><ul><li>下载编译依赖项</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>只能在这个目录下执行以下命令,可能会失败,多执行几次</p></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./contrib/download_prerequisites</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">警告</p><p>执行完毕后，可以发现gcc-10.2.0的目录中多了gmp、isl、mpc、mpfr，如果没有这些依赖包，则不能进行下面的操作</p></div><ul><li>新建bulid目录,在gcc-10.2.0目录中</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>生成Makefile文件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr/local</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-checking=release</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-languages=c,c++</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-multilib</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这时候如果出现报错：</p><p>|checking for the correct version of gmp.h... no configure: error: Building GCC requires GMP 4.2+, MPFR 3.1.0+ and MPC 0.8.0+.</p><p>解决办法</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  gmp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  gmp-devel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mpfr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mpfr-devel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  libmpc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  libmpc-devel</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这时候在运行命令就成功了</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -prefix=/usr/local</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-checking=release</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-languages=c,c++</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-multilib</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>--prefix=/usr/local 配置安装目录<br> –enable-languages表示你要让你的gcc支持那些语言<br> –disable-multilib不生成编译为其他平台可执行代码的交叉编译器<br> –disable-checking生成的编译器在编译过程中不做额外检查<br> 也可以使用*–enable-checking=xxx*来增加一些检查</p></blockquote><ul><li>开始编译</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>这一步需要时间非常久 可以使用 make -j 4 让make最多运行四个编译命令同时运行，加快编译速度（建议不要超过CPU核心数量的2倍）</p></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>编译安装</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>查看</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gcc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>验证：gcc -v；或者g++ -v，如果显示的gcc版本仍是以前的版本，就需要重启系统;<br> 或者可以查看gcc的安装位置：which gcc;<br> 然后在查看版本 /usr/local/bin/gcc -v<br> 确定以及配置成功后可以将原先的版本删除</p></div><h3 id="删除旧版本" tabindex="-1"><a class="header-anchor" href="#删除旧版本"><span>删除旧版本</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gcc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> g++</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置新版本全局可用" tabindex="-1"><a class="header-anchor" href="#配置新版本全局可用"><span>配置新版本全局可用</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/bin/gcc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/bin/gcc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/bin/g++</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/bin/g++</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="更新动态库" tabindex="-1"><a class="header-anchor" href="#更新动态库"><span>更新动态库</span></a></h3><ul><li>查找编译gcc时生成的最新动态库</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libstdc++.so.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;libstdc++.so*&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出如下内容:</p><blockquote><p>/opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/32/libstdc++.so<br> /opt/rh/devtoolset-7/root/usr/lib/gcc/x86_64-redhat-linux/7/libstdc++.so<br> /opt/rh/devtoolset-8/root/usr/lib/gcc/x86_64-redhat-linux/8/32/libstdc++.so<br> /opt/rh/devtoolset-8/root/usr/lib/gcc/x86_64-redhat-linux/8/libstdc++.so<br> /usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.pyc<br> /usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.py<br> /usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.pyo<br> /usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.19-gdb.pyc<br> /usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.19-gdb.py<br> /usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.19-gdb.pyo<br> /usr/lib64/libstdc++.so.6.0.19<br> /usr/lib64/libstdc++.so.6<br> /usr/lib/libstdc++.so.6.0.19<br> /usr/lib/libstdc++.so.6<br> /usr/local/lib64/libstdc++.so.6.0.28-gdb.py<br> /usr/local/lib64/libstdc++.so.6<br> /usr/local/lib64/libstdc++.so.6.0.28<br> /usr/local/lib64/libstdc++.so<br> /usr/local/gcc-10.2.0/build/stage1-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6<br> /usr/local/gcc-10.2.0/build/stage1-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.28<br> /usr/local/gcc-10.2.0/build/stage1-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so<br> /usr/local/gcc-10.2.0/build/prev-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6<br> /usr/local/gcc-10.2.0/build/prev-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.28<br> /usr/local/gcc-10.2.0/build/prev-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so<br> /usr/local/gcc-10.2.0/build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6<br> /usr/local/gcc-10.2.0/build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.28<br> /usr/local/gcc-10.2.0/build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so</p></blockquote><p>根据以上内容可以知道升级gcc时的输出路径，将最新动态库libstdc++.so.6.0.27复制到/usr/lib64路径下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/gcc-10.2.0/build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/lib64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>重建默认库的软连接：</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/lib64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libstdc++.so.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/lib64/libstdc++.so.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libstdc++.so.6.0.28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libstdc++.so.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>检查动态库升级完情况</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">strings</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/lib64/libstdc++.so.6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GLIBC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>安装后的动态库会位于/usr/local/lib64目录下<br> 其他版本在该目录下寻找对应的动态库libstdc++.so.6.X.XX</p></div><h3 id="查看" tabindex="-1"><a class="header-anchor" href="#查看"><span>查看</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gcc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',70)]))}]]),n=JSON.parse('{"path":"/book/Linux/centos/upgrade/01-upgrade.html","title":"centos7升级gcc","lang":"zh-CN","frontmatter":{"title":"centos7升级gcc","icon":"devicon:centos-wordmark","order":1,"category":["linux"],"tag":["centos","updrade"],"description":"centos7升级gcc示例 由于 Linux 操作系统的自由、开源，在其基础上衍生出了很多不同的 Linux 操作系统，如 CentOS、Ubuntu、Debian 等。这些 Linux 发行版中，大多数都默认装有 GCC 编译器（版本通常都较低） 安装gcc 查看是否含有gcc及gcc版本 如果没有gcc，可以通过下面命令来进行安装 升级gcc需要...","head":[["meta",{"property":"og:url","content":"https://www.youhujun.com/book/Linux/centos/upgrade/01-upgrade.html"}],["meta",{"property":"og:site_name","content":"游鹄君博客"}],["meta",{"property":"og:title","content":"centos7升级gcc"}],["meta",{"property":"og:description","content":"centos7升级gcc示例 由于 Linux 操作系统的自由、开源，在其基础上衍生出了很多不同的 Linux 操作系统，如 CentOS、Ubuntu、Debian 等。这些 Linux 发行版中，大多数都默认装有 GCC 编译器（版本通常都较低） 安装gcc 查看是否含有gcc及gcc版本 如果没有gcc，可以通过下面命令来进行安装 升级gcc需要..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-17T08:07:14.000Z"}],["meta",{"property":"article:tag","content":"centos"}],["meta",{"property":"article:tag","content":"updrade"}],["meta",{"property":"article:modified_time","content":"2025-02-17T08:07:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"centos7升级gcc\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-17T08:07:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"游鹄君\\",\\"url\\":\\"https://youhujun.github.io\\"}]}"]]},"headers":[{"level":2,"title":"安装gcc","slug":"安装gcc","link":"#安装gcc","children":[]},{"level":2,"title":"升级gcc","slug":"升级gcc","link":"#升级gcc","children":[{"level":3,"title":"下载gcc源码包","slug":"下载gcc源码包","link":"#下载gcc源码包","children":[]},{"level":3,"title":"解压安装","slug":"解压安装","link":"#解压安装","children":[]},{"level":3,"title":"删除旧版本","slug":"删除旧版本","link":"#删除旧版本","children":[]},{"level":3,"title":"配置新版本全局可用","slug":"配置新版本全局可用","link":"#配置新版本全局可用","children":[]},{"level":3,"title":"更新动态库","slug":"更新动态库","link":"#更新动态库","children":[]},{"level":3,"title":"查看","slug":"查看","link":"#查看","children":[]}]}],"git":{"createdTime":1739779634000,"updatedTime":1739779634000,"contributors":[{"name":"youhujun","username":"youhujun","email":"2900976495@qq.com","commits":1}]},"readingTime":{"minutes":3.37,"words":1011},"filePathRelative":"book/Linux/centos/upgrade/01-upgrade.md","localizedDate":"2025年2月17日","excerpt":"\\n<p>由于 Linux 操作系统的自由、开源，在其基础上衍生出了很多不同的 Linux 操作系统，如 CentOS、Ubuntu、Debian 等。这些 Linux 发行版中，大多数都默认装有 GCC 编译器（版本通常都较低）</p>\\n<h2>安装gcc</h2>\\n<ul>\\n<li>查看是否含有gcc及gcc版本</li>\\n</ul>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">gcc</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -v</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);