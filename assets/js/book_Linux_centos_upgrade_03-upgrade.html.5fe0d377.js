"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[7639],{6262:(i,s)=>{s.A=(i,s)=>{const e=i.__vccOpts||i;for(const[i,a]of s)e[i]=a;return e}},3072:(i,s,e)=>{e.r(s),e.d(s,{comp:()=>l,data:()=>n});var a=e(641);const t={},l=(0,e(6262).A)(t,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,s[0]||(s[0]=[(0,a.Fv)('<h1 id="centos7升级glibc" tabindex="-1"><a class="header-anchor" href="#centos7升级glibc"><span>centos7升级glibc</span></a></h1><p><a href="https://mirrors.cloud.tencent.com/gnu/glibc/glibc-2.28.tar.gz" target="_blank" rel="noopener noreferrer">腾讯云</a><br><a href="https://mirrors.aliyun.com/gnu/glibc/glibc-2.28.tar.gz" target="_blank" rel="noopener noreferrer">阿里云</a></p><h3 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.cloud.tencent.com/gnu/glibc/glibc-2.28.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="解压" tabindex="-1"><a class="header-anchor" href="#解压"><span>解压</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> glibc-2.28.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> glibc-2.28</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/glibc-2.28</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/glibc-2.28</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h3><blockquote><p>--with-binutils=/usr/bin是gcc默认配置，可以通过 which gcc 命令查看gcc位置<br> 默认<br> ../configure --prefix=/usr CFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot; CXXFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot; --disable-werror --disable-profile --enable-add-ons --with-headers=/usr/include --with-binutils=/usr/bin</p></blockquote><p>以下三个使用那个都可以</p><ul><li>根据查询出来的gcc路径修改配置</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CXXFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-werror</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-profile</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-add-ons</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --with-headers=/usr/include</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --with-binutils=/usr/local/bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>或者不写--with-binutils配置也会使用默认gcc</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CXXFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-werror</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-profile</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --enable-add-ons</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --with-headers=/usr/include</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>最少参数配置</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CXXFLAGS=&quot;-Og -g -g3 -ggdb -gdwarf-4&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disable-werror</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="编译并安装" tabindex="-1"><a class="header-anchor" href="#编译并安装"><span>编译并安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>make -j开启多线程，不然会很慢，要一个小时以上<br> make -j24<br> make -j24 2&gt;&amp;1 | tee build_glibc.log<br> 查看<br> ll -n /usr/lib64/libstdc++.so.6</p></blockquote><h3 id="查看版本" tabindex="-1"><a class="header-anchor" href="#查看版本"><span>查看版本</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ll</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/lib64/libstdc++.so.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>lrwxrwxrwx 1 0 0 19 Feb 17 14:58 /usr/lib64/libstdc++.so.6 -&gt; libstdc++.so.6.0.28</p></blockquote>',24)]))}]]),n=JSON.parse('{"path":"/book/Linux/centos/upgrade/03-upgrade.html","title":"centos7升级glibc","lang":"zh-CN","frontmatter":{"title":"centos7升级glibc","icon":"devicon:centos-wordmark","order":3,"category":["linux"],"tag":["centos","updrade"],"description":"centos7升级glibc 腾讯云 阿里云 下载 解压 配置 --with-binutils=/usr/bin是gcc默认配置，可以通过 which gcc 命令查看gcc位置 默认 ../configure --prefix=/usr CFLAGS=\\"-Og -g -g3 -ggdb -gdwarf-4\\" CXXFLAGS=\\"-Og -g -g3 ...","head":[["meta",{"property":"og:url","content":"https://www.youhujun.com/book/Linux/centos/upgrade/03-upgrade.html"}],["meta",{"property":"og:site_name","content":"游鹄君博客"}],["meta",{"property":"og:title","content":"centos7升级glibc"}],["meta",{"property":"og:description","content":"centos7升级glibc 腾讯云 阿里云 下载 解压 配置 --with-binutils=/usr/bin是gcc默认配置，可以通过 which gcc 命令查看gcc位置 默认 ../configure --prefix=/usr CFLAGS=\\"-Og -g -g3 -ggdb -gdwarf-4\\" CXXFLAGS=\\"-Og -g -g3 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-17T08:07:14.000Z"}],["meta",{"property":"article:tag","content":"centos"}],["meta",{"property":"article:tag","content":"updrade"}],["meta",{"property":"article:modified_time","content":"2025-02-17T08:07:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"centos7升级glibc\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-17T08:07:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"游鹄君\\",\\"url\\":\\"https://youhujun.github.io\\"}]}"]]},"headers":[{"level":3,"title":"下载","slug":"下载","link":"#下载","children":[]},{"level":3,"title":"解压","slug":"解压","link":"#解压","children":[]},{"level":3,"title":"配置","slug":"配置","link":"#配置","children":[]},{"level":3,"title":"编译并安装","slug":"编译并安装","link":"#编译并安装","children":[]},{"level":3,"title":"查看版本","slug":"查看版本","link":"#查看版本","children":[]}],"git":{"createdTime":1739779634000,"updatedTime":1739779634000,"contributors":[{"name":"youhujun","username":"youhujun","email":"2900976495@qq.com","commits":1}]},"readingTime":{"minutes":1.02,"words":306},"filePathRelative":"book/Linux/centos/upgrade/03-upgrade.md","localizedDate":"2025年2月17日","excerpt":"\\n<p><a href=\\"https://mirrors.cloud.tencent.com/gnu/glibc/glibc-2.28.tar.gz\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">腾讯云</a><br>\\n<a href=\\"https://mirrors.aliyun.com/gnu/glibc/glibc-2.28.tar.gz\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">阿里云</a></p>\\n<h3>下载</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">wget</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> https://mirrors.cloud.tencent.com/gnu/glibc/glibc-2.28.tar.gz</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);